# MACD/KAMAç­–ç•¥è´ªå¿ƒç­›é€‰è¶…å‚ç»„åˆæµ‹è¯•å·¥å…·

## æ¦‚è¿°

æ­¤å·¥å…·é›†ç”¨äºé€šè¿‡**è´ªå¿ƒç­›é€‰ç­–ç•¥**è‡ªåŠ¨æ‰§è¡ŒMACD / KAMAç­–ç•¥çš„è¶…å‚æ•°ç»„åˆæµ‹è¯•ï¼Œå¤§å¹…å‡å°‘å®éªŒæ¬¡æ•°ï¼ˆé¢„è®¡50-200ä¸ªå®éªŒ vs 1024ä¸ªå®Œæ•´å› å­è®¾è®¡ï¼‰ã€‚

**æ ¸å¿ƒæ€æƒ³**: é€’å½’å‰ªæï¼Œåªä¿ç•™"ä¸¥æ ¼é€’å¢"çš„ä¼˜ç§€ç»„åˆã€‚

**v3.1 æ–°ç‰¹æ€§** (2025-11-23):
- âœ… **å®éªŒå…ƒæ•°æ®ç³»ç»Ÿ**: è‡ªåŠ¨ç”Ÿæˆ `.experiment_metadata.json`ï¼Œæ”¯æŒæ™ºèƒ½è¯†åˆ«å®éªŒç±»å‹
- âœ… **ä»…æ”¶é›†æ¨¡å¼**: ä½¿ç”¨ `--collect-only` é€‰é¡¹å¿«é€Ÿé‡æ–°ç”Ÿæˆæ±‡æ€»CSVï¼Œæ— éœ€é‡è·‘å®éªŒ
- âœ… **å¯å‘å¼è¯†åˆ«**: å³ä½¿å…ƒæ•°æ®æ–‡ä»¶ç¼ºå¤±ï¼Œä¹Ÿèƒ½æ ¹æ®ç›®å½•åè‡ªåŠ¨è¯†åˆ«å®éªŒç±»å‹
- âœ… **æ™ºèƒ½æ’åº**: ç»“æœCSVè‡ªåŠ¨æŒ‰å¤æ™®ä¸­ä½æ•°é™åºæ’åºï¼Œæœ€ä¼˜é…ç½®ç½®é¡¶

## å¿«é€Ÿå‚è€ƒ

### ä¸‰æ­¥å¼€å§‹ï¼ˆMACDç‰ˆï¼‰

```bash
# 1. æ‰§è¡Œè´ªå¿ƒç­›é€‰ï¼ˆé¢„è®¡4-67å°æ—¶ï¼Œ50-200ä¸ªå®éªŒï¼‰
./mega_test_macd_greedy.sh

# 2. ä»…æ”¶é›†ç»“æœï¼ˆå¦‚æœå®éªŒå·²å®Œæˆï¼Œæƒ³é‡æ–°ç”ŸæˆCSVï¼‰
./mega_test_macd_greedy.sh --collect-only results/mega_test_macd_greedy_<timestamp>

# 3. ç”Ÿæˆåˆ†ææŠ¥å‘Š
python3 scripts/analyze_greedy_results.py \
  --output-dir results/mega_test_macd_greedy_<timestamp> \
  --all
```

### ä¸‰æ­¥å¼€å§‹ï¼ˆKAMAç‰ˆï¼‰

```bash
# 1. æ‰§è¡Œè´ªå¿ƒç­›é€‰ï¼ˆé¢„è®¡4-67å°æ—¶ï¼Œ50-200ä¸ªå®éªŒï¼‰
./mega_test_kama_greedy.sh

# 2. ä»…æ”¶é›†ç»“æœï¼ˆå¦‚æœå®éªŒå·²å®Œæˆï¼Œæƒ³é‡æ–°ç”ŸæˆCSVï¼‰
./mega_test_kama_greedy.sh --collect-only results/mega_test_kama_greedy_<timestamp>

# 3. ç”Ÿæˆåˆ†ææŠ¥å‘Š
python3 scripts/analyze_greedy_results.py \
  --output-dir results/mega_test_kama_greedy_<timestamp> \
  --all
```

### æ ¸å¿ƒç®—æ³•

| é˜¶æ®µ | æµ‹è¯•æ•° | ç­›é€‰æ¡ä»¶ | è¾“å‡º |
|------|--------|---------|------|
| **é˜¶æ®µ0** | 1 | - | baseline.json |
| **é˜¶æ®µ1** | 10 (MACD) / 9 (KAMA) | sharpe_mean > base **OR** sharpe_median > base | candidates_k1.json |
| **é˜¶æ®µk** | C(m,k) | sharpe_mean > max(å­ç»„åˆ) **AND** sharpe_median > max(å­ç»„åˆ) | candidates_k{k}.json |
| **ç»ˆæ­¢** | - | æ— å€™é€‰é€šè¿‡ä¸¥æ ¼é€’å¢æ¡ä»¶ | æœ€ä¼˜ç»„åˆæ±  |

### å…³é”®ç‰¹æ€§

- âœ… **é«˜æ•ˆ**: èŠ‚çœ80-90%å®éªŒï¼ˆ50-200 vs 1024ï¼‰
- âœ… **è‡ªåŠ¨åŒ–**: å®éªŒâ†’ç­›é€‰â†’æŠ¥å‘Šå…¨æµç¨‹
- âœ… **ä¸­æ–­ç»­ä¼ **: æ¯é˜¶æ®µä¿å­˜å€™é€‰æ± ï¼Œå¯éšæ—¶æš‚åœ
- âœ… **å¯è§†åŒ–**: è‡ªåŠ¨ç”Ÿæˆå‰ªææ›²çº¿å’ŒTop 5æ¨è

### è¾“å‡ºç»“æ„

```
results/mega_test_macd_greedy_<timestamp>/
â”œâ”€â”€ .experiment_metadata.json   # â­ å®éªŒå…ƒæ•°æ®ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”œâ”€â”€ candidates/                 # æ¯é˜¶æ®µå€™é€‰æ± JSON
â”œâ”€â”€ backtests/                  # å›æµ‹ç»“æœ
â”œâ”€â”€ reports/                    # åˆ†ææŠ¥å‘Š+å‰ªææ›²çº¿
â””â”€â”€ mega_test_greedy_summary.csv
```

## æ–‡ä»¶æ¸…å•

### 1. è´ªå¿ƒç­›é€‰ä¸»è„šæœ¬
- **æ–‡ä»¶**: `mega_test_macd_greedy.sh`
- **åŠŸèƒ½**:
  - é€’å½’æ‰§è¡Œé˜¶æ®µ0åˆ°é˜¶æ®µkçš„å®éªŒ
  - æ¯ä¸ªé˜¶æ®µç»“æŸåè‡ªåŠ¨ç­›é€‰ä¼˜ç§€å€™é€‰
  - ç”Ÿæˆé˜¶æ®µåˆ†ææŠ¥å‘Š
  - æ”¯æŒä¸­æ–­ç»­ä¼ 

### 1.1 KAMAè´ªå¿ƒç­›é€‰ä¸»è„šæœ¬
- **æ–‡ä»¶**: `mega_test_kama_greedy.sh`
- **åŠŸèƒ½**:
  - é€’å½’æ‰§è¡Œé˜¶æ®µ0åˆ°é˜¶æ®µkçš„KAMAå®éªŒï¼ˆé˜¶æ®µ1æµ‹è¯•9ä¸ªå¼€å…³ç»„åˆï¼‰
  - æ¯ä¸ªé˜¶æ®µç»“æŸåè‡ªåŠ¨ç­›é€‰ä¼˜ç§€å€™é€‰
  - ç”Ÿæˆé˜¶æ®µåˆ†ææŠ¥å‘Š
  - æ”¯æŒä¸­æ–­ç»­ä¼ 

### 2. å€™é€‰æ± ç®¡ç†å·¥å…·
- **æ–‡ä»¶**: `scripts/manage_candidates.py`
- **åŠŸèƒ½**:
  - åŠ è½½/ä¿å­˜å€™é€‰æ± JSONæ–‡ä»¶
  - è®¡ç®—å€™é€‰ç»„åˆçš„å­ç»„åˆ
  - è¯„ä¼°å€™é€‰æ˜¯å¦æ»¡è¶³"ä¸¥æ ¼é€’å¢"æ¡ä»¶
  - ç”Ÿæˆé˜¶æ®µç»Ÿè®¡æŠ¥å‘Š

### 3. è´ªå¿ƒç­›é€‰åˆ†æè„šæœ¬
- **æ–‡ä»¶**: `scripts/analyze_greedy_results.py`
- **åŠŸèƒ½**:
  - ç”Ÿæˆå„é˜¶æ®µçš„è¯¦ç»†åˆ†ææŠ¥å‘Š
  - å¯è§†åŒ–å‰ªæè¿‡ç¨‹ï¼ˆå€™é€‰æ•°é‡å˜åŒ–æ›²çº¿ï¼‰
  - å¯¹æ¯”æœ€ä¼˜ç»„åˆä¸Baselineçš„æ€§èƒ½æå‡
  - è¾“å‡ºæœ€ç»ˆæ¨èé…ç½®

### 4. ç»“æœæ”¶é›†è„šæœ¬
- **æ–‡ä»¶**: `scripts/collect_mega_test_results.sh`
- **åŠŸèƒ½**:
  - éå†æ‰€æœ‰å®éªŒç›®å½•
  - ä»`global_summary_*.csv`ä¸­æå–å…³é”®æŒ‡æ ‡
  - ç”Ÿæˆç»Ÿä¸€æ ¼å¼çš„ç»“æœæ±‡æ€»CSV

### 5. ç³»ç»ŸéªŒè¯è„šæœ¬
- **æ–‡ä»¶**: `verify_greedy_system.sh`
- **åŠŸèƒ½**:
  - æ£€æŸ¥Python3å’Œä¾èµ–
  - éªŒè¯æ‰€æœ‰è„šæœ¬æ–‡ä»¶å’Œæƒé™
  - æµ‹è¯•è„šæœ¬è¯­æ³•å’ŒhelpåŠŸèƒ½

## æ ¸å¿ƒè¶…å‚æ•°

### MACDç‰ˆï¼ˆ10ä¸ªæ ¸å¿ƒè¶…å‚ï¼‰

**å¸ƒå°”å¼€å…³ï¼ˆ8ä¸ªï¼‰**
1. **enable-hysteresis**: è‡ªé€‚åº”æ»å›é˜ˆå€¼ï¼ˆæŠ‘åˆ¶è´´çº¿åå¤ï¼‰
2. **enable-zero-axis**: é›¶è½´çº¦æŸï¼ˆä¹°åœ¨é›¶ä¸Š/å–åœ¨é›¶ä¸‹ï¼‰
3. **enable-confirm-filter**: æŒç»­ç¡®è®¤è¿‡æ»¤å™¨ï¼ˆå¯ç”¨æ—¶è‡ªåŠ¨é…åˆconfirm-bars=2ï¼‰
4. **enable-loss-protection**: è¿ç»­æ­¢æŸä¿æŠ¤ â­æ¨è
5. **enable-trailing-stop**: è·Ÿè¸ªæ­¢æŸ
6. **enable-adx-filter**: ADXè¶‹åŠ¿å¼ºåº¦è¿‡æ»¤å™¨
7. **enable-volume-filter**: æˆäº¤é‡ç¡®è®¤è¿‡æ»¤å™¨
8. **enable-atr-stop**: ATRè‡ªé€‚åº”è·Ÿè¸ªæ­¢æŸ â­â­æ¨è

**ç‹¬ç«‹æ•°å€¼å‚æ•°ï¼ˆ2ä¸ªï¼‰**
9. **confirm-bars-sell**: å–å‡ºç¡®è®¤Kçº¿æ•°ï¼ˆå¯ç”¨æ—¶å›ºå®šå€¼=2ï¼‰
10. **min-hold-bars**: æœ€çŸ­æŒæœ‰æœŸï¼ˆå¯ç”¨æ—¶å›ºå®šå€¼=3ï¼‰

### KAMAç‰ˆï¼ˆ9ä¸ªæ ¸å¿ƒå¼€å…³ï¼‰

**å¸ƒå°”å¼€å…³ï¼ˆ9ä¸ªï¼‰**
1. **enable-efficiency-filter**: æ•ˆç‡æ¯”ç‡è¿‡æ»¤ï¼ˆé»˜è®¤é˜ˆå€¼0.3ï¼‰
2. **enable-slope-confirmation**: KAMAæ–œç‡ç¡®è®¤ï¼ˆé»˜è®¤å›æº¯3æ ¹ï¼‰
3. **enable-slope-filter**: ä»·æ ¼æ–œç‡è¿‡æ»¤ï¼ˆé»˜è®¤å›æº¯5ï¼‰
4. **enable-adx-filter**: ADXè¶‹åŠ¿å¼ºåº¦è¿‡æ»¤å™¨
5. **enable-volume-filter**: æˆäº¤é‡ç¡®è®¤è¿‡æ»¤å™¨
6. **enable-confirm-filter**: æŒç»­ç¡®è®¤è¿‡æ»¤å™¨ï¼ˆconfirm-bars=2ï¼‰
7. **enable-loss-protection**: è¿ç»­æ­¢æŸä¿æŠ¤
8. **enable-trailing-stop**: è·Ÿè¸ªæ­¢æŸ
9. **enable-atr-stop**: ATRè‡ªé€‚åº”è·Ÿè¸ªæ­¢æŸ

## è´ªå¿ƒç­›é€‰ç®—æ³•

### æ ¸å¿ƒæ€æƒ³

é€šè¿‡**é€’å½’å‰ªæ**å¤§å¹…å‡å°‘å®éªŒæ¬¡æ•°ï¼Œåªä¿ç•™"ä¸¥æ ¼é€’å¢"çš„ä¼˜ç§€ç»„åˆã€‚

### ç®—æ³•æµç¨‹

```
é˜¶æ®µ0ï¼šBaselineæµ‹è¯•
â”œâ”€ æµ‹è¯•æ— ä»»ä½•é€‰é¡¹çš„çº¯MACDç­–ç•¥
â””â”€ è®°å½• baseline_sharpe_mean å’Œ baseline_sharpe_median

é˜¶æ®µ1ï¼šå•å˜é‡ç­›é€‰ï¼ˆ10ä¸ªå®éªŒï¼‰
â”œâ”€ æµ‹è¯•10ä¸ªå•å˜é‡ç»„åˆ
â”œâ”€ ä¿ç•™æ¡ä»¶ï¼ˆORé€»è¾‘ï¼‰ï¼š
â”‚   sharpe_mean > baseline_sharpe_mean  OR  sharpe_median > baseline_sharpe_median
â””â”€ è¾“å‡ºï¼šcandidates_k1.jsonï¼ˆå‡è®¾ä¿ç•™m1ä¸ªå€™é€‰ï¼‰

é˜¶æ®µ2ï¼šä¸¤å˜é‡ç­›é€‰ï¼ˆæœ€å¤šC(m1,2)ä¸ªå®éªŒï¼‰
â”œâ”€ ä»m1ä¸ªå•å˜é‡å€™é€‰ä¸­ç”Ÿæˆæ‰€æœ‰ä¸¤å˜é‡ç»„åˆ
â”œâ”€ å¯¹äºç»„åˆABï¼Œä¿ç•™æ¡ä»¶ï¼ˆä¸¥æ ¼é€’å¢ï¼‰ï¼š
â”‚   sharpe(AB)_mean > max(sharpe(A)_mean, sharpe(B)_mean)  AND
â”‚   sharpe(AB)_median > max(sharpe(A)_median, sharpe(B)_median)
â””â”€ è¾“å‡ºï¼šcandidates_k2.jsonï¼ˆå‡è®¾ä¿ç•™m2ä¸ªå€™é€‰ï¼‰

é˜¶æ®µkï¼škå˜é‡ç­›é€‰
â”œâ”€ ä»k-1é˜¶æ®µçš„ä¼˜ç§€ç»„åˆæ‰©å±•åˆ°kå˜é‡
â”œâ”€ å¯¹äºç»„åˆABC...ï¼Œä¿ç•™æ¡ä»¶ï¼š
â”‚   å¿…é¡»åœ¨sharpe_meanå’Œsharpe_medianä¸¤ä¸ªæŒ‡æ ‡ä¸Šï¼Œ
â”‚   **åŒæ—¶**è¶…è¿‡æ‰€æœ‰k-1å˜é‡å­ç»„åˆçš„æœ€ä¼˜å€¼
â””â”€ è¾“å‡ºï¼šcandidates_k{k}.json

ç»ˆæ­¢æ¡ä»¶ï¼š
â”œâ”€ æŸä¸ªé˜¶æ®µkæ²¡æœ‰ä»»ä½•ç»„åˆèƒ½æ»¡è¶³"ä¸¥æ ¼é€’å¢"æ¡ä»¶
â””â”€ è¾“å‡ºæœ€ç»ˆä¼˜ç§€ç»„åˆæ± å’Œè¯¦ç»†åˆ†ææŠ¥å‘Š
```

### è¯„ä»·æŒ‡æ ‡

- **ORé€»è¾‘ï¼ˆå•å˜é‡ vs Baselineï¼‰**: å¹³å‡å¤æ™®**æˆ–**å¤æ™®ä¸­ä½æ•°æœ‰ä¸€ä¸ªå¤§äºbaselineå³å¯
- **ä¸¥æ ¼é€’å¢ï¼ˆå¤šå˜é‡ vs å­ç»„åˆï¼‰**: ä¸¤ä¸ªæŒ‡æ ‡**å¿…é¡»åŒæ—¶**è¶…è¿‡æ‰€æœ‰å­ç»„åˆçš„æœ€ä¼˜å€¼

### é¢„æœŸå®éªŒæ¬¡æ•°

- **æœ€åæƒ…å†µ**: å¦‚æœæ‰€æœ‰å•å˜é‡éƒ½é€šè¿‡ï¼Œåˆ™ï¼š
  - é˜¶æ®µ1: 10
  - é˜¶æ®µ2: C(10,2) = 45
  - é˜¶æ®µ3: C(10,3) = 120ï¼ˆå¦‚æœ45ä¸ªå…¨éƒ¨é€šè¿‡ï¼‰
  - ...
  - æ€»è®¡æœ€å¤š1024ï¼ˆé€€åŒ–ä¸ºå®Œæ•´å› å­è®¾è®¡ï¼‰

- **å®é™…æƒ…å†µ**: é€šå¸¸åœ¨é˜¶æ®µ2-3å°±ä¼šå¤§å¹…å‰ªæï¼Œé¢„è®¡**50-200ä¸ªå®éªŒ**å³å¯æ‰¾åˆ°æœ€ä¼˜ç»„åˆ

### ä¸­æ–­ç»­ä¼ æœºåˆ¶

- æ¯ä¸ªé˜¶æ®µå®Œæˆåä¿å­˜å€™é€‰æ± åˆ° `candidates_k{k}.json`
- ç”Ÿæˆé˜¶æ®µåˆ†ææŠ¥å‘Š `stage_k{k}_report.md`
- ç”¨æˆ·å¯åœ¨ä»»æ„é˜¶æ®µæš‚åœï¼Œåˆ†æç»“æœåå†å†³å®šæ˜¯å¦ç»§ç»­
- æ”¯æŒä»ä»»æ„é˜¶æ®µæ¢å¤æ‰§è¡Œ

## å…ƒæ•°æ®ç³»ç»Ÿ â­ v3.1æ–°åŠŸèƒ½

### ä»€ä¹ˆæ˜¯å®éªŒå…ƒæ•°æ®ï¼Ÿ

ä»v3.1ç‰ˆæœ¬å¼€å§‹ï¼Œæ¯ä¸ªå®éªŒä¼šè‡ªåŠ¨ç”Ÿæˆ `.experiment_metadata.json` æ–‡ä»¶ï¼Œè®°å½•å®éªŒç±»å‹ã€é…ç½®å’Œåˆ›å»ºæ—¶é—´ç­‰ä¿¡æ¯ã€‚è¿™ä½¿å¾—ç³»ç»Ÿèƒ½å¤Ÿ**æ™ºèƒ½è¯†åˆ«å®éªŒç±»å‹**ï¼Œæ— éœ€ç¡¬ç¼–ç ç›®å½•åè§„åˆ™ã€‚

### å…ƒæ•°æ®æ–‡ä»¶ç¤ºä¾‹

```json
{
  "experiment_type": "mega_test_greedy",
  "experiment_version": "1.0",
  "created_at": "2025-11-23T09:49:06+08:00",
  "script": "mega_test_macd_greedy.sh",
  "description": "MACDç­–ç•¥è´ªå¿ƒç­›é€‰è¶…å‚ç»„åˆæµ‹è¯•",
  "config": {
    "pool_path": "results/trend_etf_pool_2019_2022_optimized.csv",
    "data_dir": "data/chinese_etf/daily",
    "start_date": "20220102",
    "end_date": "20240102",
    "core_options": [...]
  }
}
```

### è‡ªåŠ¨è¯†åˆ«æœºåˆ¶

æ”¶é›†è„šæœ¬ä¼šæŒ‰ä¼˜å…ˆçº§ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•è¯†åˆ«å®éªŒç±»å‹ï¼š

1. **å…ƒæ•°æ®æ–‡ä»¶**ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰
   - è¯»å– `.experiment_metadata.json` çš„ `experiment_type` å­—æ®µ
   - æœ€å‡†ç¡®ã€æœ€å¯é 

2. **ç›®å½•åå¯å‘å¼**ï¼ˆæ¬¡ä¼˜å…ˆçº§ï¼‰
   - ä»ç›®å½•åæ¨æ–­ï¼šåŒ…å« `greedy` â†’ `mega_test_greedy`
   - ä»ç›®å½•åæ¨æ–­ï¼šåŒ…å« `full` â†’ `mega_test_full`

3. **é€šç”¨æ¨¡å¼**ï¼ˆå…œåº•æ–¹æ¡ˆï¼‰
   - å°è¯•åŒ¹é…æ‰€æœ‰å·²çŸ¥æ ¼å¼
   - å…¼å®¹æ€§æœ€å¼º

### æ”¯æŒçš„å®éªŒç±»å‹

| å®éªŒç±»å‹ | ç›®å½•æ ¼å¼ | è¯´æ˜ |
|---------|---------|------|
| `mega_test_greedy` | `baseline`, `single_xxx`, `k2_xxx` | è´ªå¿ƒç­›é€‰ |
| `mega_test_full` | `æ•°å­—_macd_xxx`, `exp_macd_xxx` | å®Œæ•´å› å­è®¾è®¡ |
| `unknown` | é€šç”¨åŒ¹é… | æ— æ³•è¯†åˆ«ï¼Œä½¿ç”¨é€šç”¨è§„åˆ™ |

### ä»…æ”¶é›†æ¨¡å¼ï¼ˆ--collect-onlyï¼‰

å¦‚æœå®éªŒå·²å®Œæˆï¼Œæˆ–åªæƒ³é‡æ–°ç”Ÿæˆæ±‡æ€»CSVï¼Œä½¿ç”¨æ­¤æ¨¡å¼å¯è·³è¿‡æ‰€æœ‰å›æµ‹ï¼š

```bash
# åŸºæœ¬ç”¨æ³•
./mega_test_macd_greedy.sh --collect-only <å®éªŒç›®å½•>

# ç¤ºä¾‹
./mega_test_macd_greedy.sh --collect-only results/mega_test_macd_greedy_20251123_094906
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ä»…æ”¶é›†æ¨¡å¼ï¼šä»å·²æœ‰å®éªŒç›®å½•æ”¶é›†ç»“æœ
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ“ æ£€æµ‹åˆ°å®éªŒå…ƒæ•°æ®æ–‡ä»¶
âœ“ å®éªŒç±»å‹: mega_test_greedy
âœ“ æ£€æµ‹åˆ°backtestså­ç›®å½•: .../backtests

å®éªŒå…ƒæ•°æ®:
  ç±»å‹: mega_test_greedy
  åˆ›å»ºæ—¶é—´: 2025-11-23T09:49:06+08:00
  æè¿°: MACDç­–ç•¥è´ªå¿ƒç­›é€‰è¶…å‚ç»„åˆæµ‹è¯•

âœ“ ç»“æœæ±‡æ€»å®Œæˆ: mega_test_greedy_summary.csv
âœ“ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ç»“æœï¼š
  column -t -s, "mega_test_greedy_summary.csv" | less -S
```

**ä¼˜åŠ¿**ï¼š
- âš¡ å¿«é€Ÿï¼šå‡ ç§’é’Ÿå®Œæˆï¼ˆvs æ•°å°æ—¶é‡è·‘å®éªŒï¼‰
- ğŸ¯ å‡†ç¡®ï¼šè‡ªåŠ¨è¯†åˆ«å®éªŒç±»å‹ï¼Œä½¿ç”¨æ­£ç¡®çš„åŒ¹é…è§„åˆ™
- ğŸ“Š å®Œæ•´ï¼šåŒ…å«æ‰€æœ‰å®éªŒçš„æ±‡æ€»æŒ‡æ ‡
- ğŸ”„ å¯é‡å¤ï¼šå¯å¤šæ¬¡è¿è¡Œï¼Œæ¯æ¬¡éƒ½ä¼šè¦†ç›–æ—§CSV

### ä¸ºæ—§å®éªŒæ·»åŠ å…ƒæ•°æ®

å¦‚æœæ—§å®éªŒç›®å½•ç¼ºå°‘å…ƒæ•°æ®æ–‡ä»¶ï¼Œå¯ä»¥æ‰‹åŠ¨åˆ›å»ºï¼š

```bash
cat > results/old_experiment/.experiment_metadata.json << 'EOF'
{
  "experiment_type": "mega_test_greedy",
  "experiment_version": "1.0",
  "created_at": "2025-11-23T09:49:06+08:00",
  "script": "mega_test_macd_greedy.sh",
  "description": "æ‰‹åŠ¨æ·»åŠ çš„å…ƒæ•°æ®"
}
EOF
```

æˆ–è€…ï¼Œå¦‚æœç›®å½•ååŒ…å« `greedy` æˆ– `full`ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ä½¿ç”¨å¯å‘å¼è¯†åˆ«ã€‚

## ä½¿ç”¨æ–¹æ³•

### æ­¥éª¤0: æ‰§è¡Œè´ªå¿ƒç­›é€‰

```bash
./mega_test_macd_greedy.sh
# æˆ–
./mega_test_kama_greedy.sh
```

è„šæœ¬ä¼šï¼š
1. **é˜¶æ®µ0**: æµ‹è¯•Baselineï¼ˆ1ä¸ªå®éªŒï¼‰
2. **é˜¶æ®µ1**: MACDç‰ˆæµ‹è¯•10ä¸ªå•å˜é‡ï¼ŒKAMAç‰ˆæµ‹è¯•9ä¸ªå•å˜é‡ï¼Œç­›é€‰é€šè¿‡ORé€»è¾‘çš„å€™é€‰
3. **é˜¶æ®µk**: ä»å‰ä¸€é˜¶æ®µå€™é€‰ç”Ÿæˆkå˜é‡ç»„åˆï¼Œç­›é€‰æ»¡è¶³ä¸¥æ ¼é€’å¢çš„å€™é€‰
4. **è‡ªåŠ¨ç»ˆæ­¢**: å½“æŸé˜¶æ®µæ— å€™é€‰é€šè¿‡ç­›é€‰æ—¶åœæ­¢

**å…³é”®ç‰¹æ€§**:
- âœ… æ¯ä¸ªé˜¶æ®µç»“æŸåä¿å­˜å€™é€‰æ± åˆ° `candidates_k{k}.json`
- âœ… æ”¯æŒä¸­æ–­ç»­ä¼ ï¼ˆå¯åœ¨ä»»æ„é˜¶æ®µæš‚åœåˆ†æï¼‰
- âœ… æ¸…æ™°çš„æ—¥å¿—æ˜¾ç¤ºå½“å‰é˜¶æ®µå’Œç­›é€‰ç»“æœ
- âœ… é¢„è®¡50-200ä¸ªå®éªŒï¼ˆèŠ‚çœ80-90%è®¡ç®—æ—¶é—´ï¼‰

### æ­¥éª¤2: æŸ¥çœ‹é˜¶æ®µç»“æœ

æ¯ä¸ªé˜¶æ®µå®Œæˆåï¼Œç»“æœä¿å­˜åœ¨ï¼š
```
results/mega_test_macd_greedy_<timestamp>/
â”œâ”€â”€ candidates/              â† å€™é€‰æ± JSONæ–‡ä»¶
â”‚   â”œâ”€â”€ baseline.json        # BaselineæŒ‡æ ‡
â”‚   â”œâ”€â”€ candidates_k1.json   # é˜¶æ®µ1å€™é€‰
â”‚   â”œâ”€â”€ candidates_k2.json   # é˜¶æ®µ2å€™é€‰
â”‚   â””â”€â”€ ...
â”œâ”€â”€ backtests/               â† å›æµ‹ç»“æœç›®å½•
â”‚   â”œâ”€â”€ baseline/
â”‚   â”œâ”€â”€ single_enable-hysteresis/
â”‚   â”œâ”€â”€ k2_enable-hysteresis_enable-atr-stop/
â”‚   â””â”€â”€ ...
â”œâ”€â”€ reports/                 â† åˆ†ææŠ¥å‘Šç›®å½•ï¼ˆæ­¥éª¤3ç”Ÿæˆï¼‰
â””â”€â”€ mega_test_greedy_summary.csv  â† å®Œæ•´ç»“æœCSV
```

**æ£€æŸ¥å€™é€‰æ± **:
```bash
# æŸ¥çœ‹é˜¶æ®µ1å€™é€‰åˆ—è¡¨
python3 scripts/manage_candidates.py \
  --candidates-dir results/mega_test_macd_greedy_<timestamp>/candidates \
  --action list \
  --stage 1

# ç”Ÿæˆé˜¶æ®µ2çš„è¯¦ç»†æŠ¥å‘Š
python3 scripts/manage_candidates.py \
  --candidates-dir results/mega_test_macd_greedy_<timestamp>/candidates \
  --action report \
  --stage 2 \
  --output reports/stage2_report.md
```

### æ­¥éª¤3: ç”Ÿæˆåˆ†ææŠ¥å‘Š

**ç”Ÿæˆå®Œæ•´æ±‡æ€»æŠ¥å‘Š**:
```bash
python3 scripts/analyze_greedy_results.py \
  --output-dir results/mega_test_macd_greedy_<timestamp> \
  --summary
```

**ç”Ÿæˆæ‰€æœ‰åˆ†æï¼ˆæ¨èï¼‰**:
```bash
python3 scripts/analyze_greedy_results.py \
  --output-dir results/mega_test_macd_greedy_<timestamp> \
  --all
```

è¿™ä¼šç”Ÿæˆï¼š
- `reports/SUMMARY.md`: å®Œæ•´æ±‡æ€»æŠ¥å‘Šï¼ˆåŒ…å«Top 5æ¨èé…ç½®ï¼‰
- `reports/stage_k{k}_report.md`: å„é˜¶æ®µè¯¦ç»†æŠ¥å‘Š
- `reports/pruning_curve.png`: å‰ªæè¿‡ç¨‹å¯è§†åŒ–æ›²çº¿

### æ­¥éª¤4: åº”ç”¨æœ€ä¼˜é…ç½®

åˆ†ææŠ¥å‘Šä¼šè‡ªåŠ¨ç”Ÿæˆæœ€ä¼˜é…ç½®çš„è¿è¡Œå‘½ä»¤ï¼Œä¾‹å¦‚ï¼š
```bash
./run_backtest.sh \
  --stock-list results/trend_etf_pool_2019_2022_optimized.csv \
  --strategy macd_cross \
  --optimize \
  --data-dir data/chinese_etf/daily \
  --start-date 20220102 \
  --end-date 20240102 \
  --enable-hysteresis \
  --enable-atr-stop \
  --atr-period 14 --atr-multiplier 2.5 \
  --hysteresis-mode std --hysteresis-k 0.5 --hysteresis-window 20
```

## å®éªŒé…ç½®

### å›ºå®šå‚æ•°ï¼ˆæ‰€æœ‰å®éªŒå…±äº«ï¼ŒKAMAä¸MACDä¿æŒä¸€è‡´ï¼‰

```bash
# æ•°æ®é…ç½®
POOL_PATH="results/trend_etf_pool_2019_2022_optimized.csv"
DATA_DIR="data/chinese_etf/daily"
START_DATE="20240102"
END_DATE="20251120"

# ADXè¿‡æ»¤å™¨å‚æ•°ï¼ˆå½“enable-adx-filterå¯ç”¨æ—¶ç”Ÿæ•ˆï¼‰
ADX_PERIOD=14
ADX_THRESHOLD=25.0

# æˆäº¤é‡è¿‡æ»¤å™¨å‚æ•°ï¼ˆå½“enable-volume-filterå¯ç”¨æ—¶ç”Ÿæ•ˆï¼‰
VOLUME_PERIOD=20
VOLUME_RATIO=1.2

# è¿ç»­æ­¢æŸä¿æŠ¤å‚æ•°ï¼ˆå½“enable-loss-protectionå¯ç”¨æ—¶ç”Ÿæ•ˆï¼‰
MAX_CONSECUTIVE_LOSSES=3
PAUSE_BARS=10

# è·Ÿè¸ªæ­¢æŸå‚æ•°ï¼ˆå½“enable-trailing-stopå¯ç”¨æ—¶ç”Ÿæ•ˆï¼‰
TRAILING_STOP_PCT=0.05

# ATRæ­¢æŸå‚æ•°ï¼ˆå½“enable-atr-stopå¯ç”¨æ—¶ç”Ÿæ•ˆï¼‰
ATR_PERIOD=14
ATR_MULTIPLIER=2.5

# æ»å›å‚æ•°ï¼ˆå½“enable-hysteresiså¯ç”¨æ—¶ç”Ÿæ•ˆï¼‰
HYSTERESIS_MODE="std"
HYSTERESIS_K=0.5
HYSTERESIS_WINDOW=20

# é›¶è½´çº¦æŸå‚æ•°ï¼ˆå½“enable-zero-axiså¯ç”¨æ—¶ç”Ÿæ•ˆï¼‰
ZERO_AXIS_MODE="symmetric"

# æŒç»­ç¡®è®¤å‚æ•°ï¼ˆå½“enable-confirm-filterå¯ç”¨æ—¶ç”Ÿæ•ˆï¼‰
CONFIRM_BARS=2

# KAMAç‰¹æœ‰é»˜è®¤å‚æ•°ï¼ˆå½“å¯¹åº”å¼€å…³å¯ç”¨æ—¶ç”Ÿæ•ˆï¼‰
MIN_EFFICIENCY_RATIO=0.3
MIN_SLOPE_PERIODS=3
SLOPE_LOOKBACK=5
```

### ä¿®æ”¹é…ç½®

ç¼–è¾‘ `mega_test_macd_greedy.sh` ä¸­çš„é…ç½®åŒºåŸŸï¼š

```bash
# ä¾‹å¦‚ï¼šä¿®æ”¹æµ‹è¯•å‘¨æœŸ
START_DATE="20220102"  # ä¿®æ”¹ä¸ºä½ çš„å¼€å§‹æ—¥æœŸ
END_DATE="20240102"    # ä¿®æ”¹ä¸ºä½ çš„ç»“æŸæ—¥æœŸ

# ä¾‹å¦‚ï¼šä¿®æ”¹ATRå€æ•°
ATR_MULTIPLIER=3.0  # ä»é»˜è®¤2.5æ”¹ä¸º3.0

# ä¾‹å¦‚ï¼šä¿®æ”¹æµ‹è¯•æ ‡çš„æ± 
POOL_PATH="your_custom_pool.csv"
```

## è¾“å‡ºCSVæ ¼å¼

`mega_test_greedy_summary.csv` åŒ…å«ä»¥ä¸‹åˆ—ï¼Œ**æŒ‰å¤æ™®ä¸­ä½æ•°é™åºæ’åº**ï¼Œæœ€ä¼˜é…ç½®ä½äºé¡¶éƒ¨ï¼š

### å®éªŒä¿¡æ¯
- `exp_num`: å®éªŒç¼–å·ï¼ˆè´ªå¿ƒç­›é€‰æ— ç¼–å·ï¼Œæ­¤åˆ—ä¸ºç©ºï¼‰
- `exp_name`: å®éªŒåç§°

### è¶…å‚æ•°é…ç½®
**å¸ƒå°”å‹ï¼ˆTRUE/FALSEï¼‰**:
- `enable-hysteresis`
- `enable-zero-axis`
- `enable-confirm-filter`
- `enable-loss-protection`
- `enable-trailing-stop`
- `enable-adx-filter`
- `enable-volume-filter`
- `enable-atr-stop`

**æ•°å€¼å‹ï¼ˆæ˜¾ç¤ºå€¼æˆ–ç©ºï¼‰**:
- `confirm-bars-sell`: 2ï¼ˆå¯ç”¨æ—¶ï¼‰æˆ–ç©º
- `min-hold-bars`: 3ï¼ˆå¯ç”¨æ—¶ï¼‰æˆ–ç©º

### éå¸ƒå°”å‚æ•°ï¼ˆä»…åœ¨å¯¹åº”é€‰é¡¹å¯ç”¨æ—¶æ˜¾ç¤ºå€¼ï¼‰
- `adx-period`, `adx-threshold`: ADXè¿‡æ»¤å™¨å‚æ•°
- `volume-period`, `volume-ratio`: æˆäº¤é‡è¿‡æ»¤å™¨å‚æ•°
- `max-consecutive-losses`, `pause-bars`: è¿ç»­æ­¢æŸä¿æŠ¤å‚æ•°
- `trailing-stop-pct`: è·Ÿè¸ªæ­¢æŸå‚æ•°
- `atr-period`, `atr-multiplier`: ATRæ­¢æŸå‚æ•°
- `hysteresis-mode`, `hysteresis-k`, `hysteresis-window`: æ»å›å‚æ•°
- `zero-axis-mode`: é›¶è½´çº¦æŸå‚æ•°
- `confirm-bars`: æŒç»­ç¡®è®¤å‚æ•°ï¼ˆenable-confirm-filterçš„é™„å±ï¼‰

### æ€§èƒ½æŒ‡æ ‡
- `return_mean`: å¹³å‡æ”¶ç›Šç‡ï¼ˆ%ï¼‰
- `return_median`: ä¸­ä½æ”¶ç›Šç‡ï¼ˆ%ï¼‰
- `sharpe_mean`: å¹³å‡å¤æ™®æ¯”ç‡
- `sharpe_median`: ä¸­ä½å¤æ™®æ¯”ç‡
- `max_dd_mean`: å¹³å‡æœ€å¤§å›æ’¤ï¼ˆ%ï¼‰
- `max_dd_median`: ä¸­ä½æœ€å¤§å›æ’¤ï¼ˆ%ï¼‰
- `num_stocks`: æµ‹è¯•æ ‡çš„æ•°é‡
- `summary_path`: åŸå§‹ç»“æœæ–‡ä»¶è·¯å¾„

## é¢„æœŸæ‰§è¡Œæ—¶é—´

æ ¹æ®æ ‡çš„æ•°é‡å’Œç¡¬ä»¶é…ç½®ï¼Œé¢„è®¡ï¼š
- **å•ä¸ªå®éªŒ**: 5-20åˆ†é’Ÿï¼ˆå‡è®¾20åªæ ‡çš„ï¼‰
- **è´ªå¿ƒç­›é€‰æ€»è®¡**: 4-67å°æ—¶ï¼ˆ50-200ä¸ªå®éªŒï¼‰
- **èŠ‚çœæ—¶é—´**: ç›¸æ¯”å®Œæ•´å› å­è®¾è®¡èŠ‚çœ80-90%ï¼ˆ1024ä¸ªå®éªŒéœ€3.5-14å¤©ï¼‰

**å»ºè®®**åœ¨åå°è¿è¡Œï¼š
```bash
# åå°è¿è¡Œ
nohup ./mega_test_macd_greedy.sh > mega_test_greedy.log 2>&1 &

# ç›‘æ§è¿›åº¦
tail -f mega_test_greedy.log

# æŸ¥çœ‹è¿›ç¨‹
ps aux | grep mega_test_greedy
```

## ä¸­æ–­ç»­ä¼ 

è´ªå¿ƒç­›é€‰æ”¯æŒåœ¨ä»»æ„é˜¶æ®µä¸­æ–­å’Œæ¢å¤ï¼š

### åœºæ™¯1ï¼šæµ‹å®Œé˜¶æ®µ1åæš‚åœåˆ†æ

```bash
# 1. æ‰§è¡Œåˆ°é˜¶æ®µ1åæ‰‹åŠ¨ä¸­æ–­ï¼ˆCtrl+Cï¼‰
./mega_test_macd_greedy.sh

# 2. æŸ¥çœ‹é˜¶æ®µ1å€™é€‰
python3 scripts/manage_candidates.py \
  --candidates-dir results/mega_test_macd_greedy_<timestamp>/candidates \
  --action list \
  --stage 1

# 3. å¦‚æœæ»¡æ„ï¼Œç»§ç»­æ‰§è¡Œï¼ˆæ‰‹åŠ¨ä¿®æ”¹è„šæœ¬ä»é˜¶æ®µ2å¼€å§‹ï¼‰
# æˆ–è€…ç›´æ¥åˆ é™¤è¯¥è¾“å‡ºç›®å½•ï¼Œé‡æ–°è¿è¡Œå®Œæ•´æµç¨‹
```

### åœºæ™¯2ï¼šéƒ¨åˆ†å®éªŒå¤±è´¥åæ¢å¤

```bash
# 1. æ£€æŸ¥å¤±è´¥çš„å®éªŒ
ls results/mega_test_macd_greedy_<timestamp>/backtests/

# 2. æ‰‹åŠ¨é‡æ–°è¿è¡Œå¤±è´¥çš„å®éªŒ
./run_backtest.sh [å¯¹åº”å‚æ•°]

# 3. é‡æ–°æ”¶é›†ç»“æœ
./scripts/collect_mega_test_results.sh \
  results/mega_test_macd_greedy_<timestamp>/backtests \
  results/mega_test_macd_greedy_<timestamp>/mega_test_greedy_summary.csv
```

## åç»­åˆ†æå»ºè®®

### 1. è¯†åˆ«æœ€ä¼˜ç»„åˆ

æŸ¥çœ‹æ±‡æ€»æŠ¥å‘Šä¸­çš„Top 5æ¨èï¼š
```bash
cat results/mega_test_macd_greedy_<timestamp>/reports/SUMMARY.md
```

æˆ–ä½¿ç”¨CSVæ’åºï¼š
```bash
# æŒ‰å¤æ™®å‡å€¼æ’åº
sort -t',' -k15 -rn results/mega_test_macd_greedy_*/mega_test_greedy_summary.csv | head -11
```

### 2. å¯è§†åŒ–å‰ªæè¿‡ç¨‹

æŸ¥çœ‹å‰ªææ›²çº¿å›¾ï¼š
```bash
# å·²åœ¨æ­¥éª¤3ä¸­ç”Ÿæˆ
open results/mega_test_macd_greedy_<timestamp>/reports/pruning_curve.png
```

### 3. å¯¹æ¯”Baselineæ€§èƒ½æå‡

æ±‡æ€»æŠ¥å‘Šä¸­ä¼šè‡ªåŠ¨è®¡ç®—ï¼š
```markdown
| æ’å | é˜¶æ®µ | é€‰é¡¹ç»„åˆ | å¤æ™®å‡å€¼ | vs Baseline |
|------|------|---------|---------|-------------|
| 1 | é˜¶æ®µ2 | enable-hysteresis, enable-atr-stop | 1.23 | +45.2% |
```

### 4. åˆ†æå„é˜¶æ®µç»Ÿè®¡

```bash
# æŸ¥çœ‹é˜¶æ®µkçš„å®Œæ•´å€™é€‰åˆ—è¡¨
cat results/mega_test_macd_greedy_<timestamp>/reports/stage_k2_report.md
```

### 5. éªŒè¯æœ€ä¼˜é…ç½®

ä½¿ç”¨æŠ¥å‘Šç”Ÿæˆçš„è¿è¡Œå‘½ä»¤ï¼Œåœ¨ä¸åŒæ—¶é—´æ®µéªŒè¯ï¼š
```bash
./run_backtest.sh \
  [æœ€ä¼˜é…ç½®å‚æ•°] \
  --start-date 20200101 \
  --end-date 20220101  # ä¸åŒæ—¶é—´æ®µ
```

## ä¼˜åŠ¿ä¸å±€é™

### ä¼˜åŠ¿

- âœ… **é«˜æ•ˆ**: é€šå¸¸50-200ä¸ªå®éªŒå³å¯æ‰¾åˆ°æœ€ä¼˜ç»„åˆï¼ˆèŠ‚çœ80-90%æ—¶é—´ï¼‰
- âœ… **ç§‘å­¦**: åŸºäºä¸¥æ ¼é€’å¢å‰ªæï¼Œä¿è¯ä¸é—æ¼æ½œåœ¨çš„æœ€ä¼˜ç»„åˆ
- âœ… **çµæ´»**: æ”¯æŒä¸­æ–­ç»­ä¼ ï¼Œå¯åœ¨ä»»æ„é˜¶æ®µæš‚åœåˆ†æ
- âœ… **å¯è§£é‡Š**: æ¸…æ™°çš„é˜¶æ®µæŠ¥å‘Šå’Œå‰ªæé€»è¾‘
- âœ… **è‡ªåŠ¨åŒ–**: ä»å®éªŒæ‰§è¡Œåˆ°æŠ¥å‘Šç”Ÿæˆå…¨æµç¨‹è‡ªåŠ¨åŒ–

### å±€é™

- âš ï¸ **å±€éƒ¨æœ€ä¼˜**: å¯èƒ½é”™è¿‡æŸäº›"å…ˆé™åå‡"çš„ç»„åˆï¼ˆå³æŸä¸ªké˜¶æ®µæœªé€šè¿‡ï¼Œä½†k+1é˜¶æ®µå¯èƒ½é€šè¿‡ï¼‰
- âš ï¸ **æŒ‡æ ‡ä¾èµ–**: å®Œå…¨ä¾èµ–å¤æ™®æ¯”ç‡ï¼Œå¦‚æœå…³æ³¨å…¶ä»–æŒ‡æ ‡ï¼ˆå¦‚æœ€å¤§å›æ’¤ï¼‰éœ€è¦ä¿®æ”¹ç­›é€‰é€»è¾‘
- âš ï¸ **å‚æ•°æ•æ„Ÿ**: å¯¹Baselineçš„æ€§èƒ½æ•æ„Ÿï¼Œå¦‚æœBaselineå¼‚å¸¸å¥½/å·®ä¼šå½±å“åç»­ç­›é€‰

### é€‚ç”¨åœºæ™¯

| åœºæ™¯ | æ¨è | ç†ç”± |
|------|------|------|
| **å¿«é€Ÿå¯»ä¼˜** | âœ… æ¨è | é€šå¸¸50-200ä¸ªå®éªŒå³å¯æ‰¾åˆ°æœ€ä¼˜ç»„åˆ |
| **èµ„æºå—é™** | âœ… æ¨è | èŠ‚çœ80-90%è®¡ç®—æ—¶é—´ |
| **å·¥ç¨‹åº”ç”¨** | âœ… æ¨è | æ€§ä»·æ¯”æœ€ä¼˜ï¼Œæ”¯æŒä¸­æ–­ç»­ä¼  |
| **ç†è®ºç ”ç©¶** | âš ï¸ è°¨æ… | å¯èƒ½é”™è¿‡æŸäº›äº¤äº’æ•ˆåº”ï¼Œå»ºè®®ç”¨å®Œæ•´å› å­è®¾è®¡ |
| **å‚æ•°æ•æ„Ÿæ€§åˆ†æ** | âŒ ä¸æ¨è | éœ€è¦å®Œæ•´çš„å‚æ•°ç©ºé—´è¦†ç›– |

## ä¸å®Œæ•´å› å­è®¾è®¡å¯¹æ¯”

| ç»´åº¦ | è´ªå¿ƒç­›é€‰ç­–ç•¥ | å®Œæ•´å› å­è®¾è®¡ |
|------|-------------|-------------|
| **å®éªŒæ•°é‡** | 50-200 | 1024 |
| **æ‰§è¡Œæ—¶é—´** | 4-67å°æ—¶ | 85-340å°æ—¶ |
| **èŠ‚çœæ—¶é—´** | - | **èŠ‚çœ80-90%** |
| **è¦†ç›–ç‡** | é«˜ï¼ˆä¿ç•™ä¸¥æ ¼é€’å¢ç»„åˆï¼‰ | 100%ï¼ˆæ‰€æœ‰ç»„åˆï¼‰ |
| **é€‚ç”¨åœºæ™¯** | å¿«é€Ÿå¯»ä¼˜ã€å·¥ç¨‹åº”ç”¨ | ç†è®ºç ”ç©¶ã€å‚æ•°æ•æ„Ÿæ€§åˆ†æ |
| **ä¸­æ–­ç»­ä¼ ** | âœ… æ”¯æŒ | âŒ ä¸æ”¯æŒï¼ˆéœ€æ‰‹åŠ¨å®ç°ï¼‰ |
| **æŠ¥å‘Šç”Ÿæˆ** | âœ… è‡ªåŠ¨åŒ– | âš ï¸ éœ€æ‰‹åŠ¨åˆ†æ |

## ç‰ˆæœ¬å†å²

- **v3.1** (2025-11-23): å®éªŒå…ƒæ•°æ®ç³»ç»Ÿä¸æ™ºèƒ½æ’åº â­ å½“å‰ç‰ˆæœ¬
  - æ–°å¢ `.experiment_metadata.json` è‡ªåŠ¨ç”Ÿæˆæœºåˆ¶
  - æ–°å¢ `--collect-only` é€‰é¡¹å¿«é€Ÿé‡æ–°ç”Ÿæˆæ±‡æ€»CSV
  - æ”¯æŒä»å…ƒæ•°æ®æ–‡ä»¶æ™ºèƒ½è¯†åˆ«å®éªŒç±»å‹ï¼ˆ`mega_test_greedy`, `mega_test_full`ï¼‰
  - æ”¯æŒå¯å‘å¼ç›®å½•åè¯†åˆ«ä½œä¸ºåå¤‡æ–¹æ¡ˆ
  - ä¼˜åŒ– `collect_mega_test_results.sh` ä½¿ç”¨å…ƒæ•°æ®è‡ªåŠ¨é€‰æ‹©åŒ¹é…è§„åˆ™
  - æ”¹è¿› `collect_only_mode` æ˜¾ç¤ºå®éªŒå…ƒæ•°æ®ä¿¡æ¯
  - **æ–°å¢æ™ºèƒ½æ’åº**: ç»“æœCSVè‡ªåŠ¨æŒ‰å¤æ™®ä¸­ä½æ•°é™åºæ’åºï¼Œæœ€ä¼˜é…ç½®ç½®é¡¶

- **v3.0** (2025-11-23): è´ªå¿ƒç­›é€‰ç­–ç•¥
  - æ–°å¢ `mega_test_macd_greedy.sh` è´ªå¿ƒç­›é€‰ä¸»è„šæœ¬
  - æ–°å¢ `scripts/manage_candidates.py` å€™é€‰æ± ç®¡ç†å·¥å…·
  - æ–°å¢ `scripts/analyze_greedy_results.py` ç»“æœåˆ†æè„šæœ¬
  - æ–°å¢ `verify_greedy_system.sh` ç³»ç»ŸéªŒè¯è„šæœ¬
  - æ”¯æŒé€’å½’å‰ªæï¼Œé¢„è®¡å‡å°‘80-90%å®éªŒæ¬¡æ•°ï¼ˆ50-200 vs 1024ï¼‰
  - æ”¯æŒä¸­æ–­ç»­ä¼ ï¼Œå¯åœ¨ä»»æ„é˜¶æ®µæš‚åœåˆ†æ
  - è‡ªåŠ¨ç”Ÿæˆæ±‡æ€»æŠ¥å‘Šã€é˜¶æ®µæŠ¥å‘Šå’Œå‰ªææ›²çº¿
  - ç®—æ³•ï¼šé˜¶æ®µ0 Baseline â†’ é˜¶æ®µ1 ORé€»è¾‘ â†’ é˜¶æ®µk ä¸¥æ ¼é€’å¢å‰ªæ

- **v2.0** (2025-11-23): æ›´æ–°ä¸º10å‚æ•°å®Œæ•´ç»„åˆï¼ˆå·²åºŸå¼ƒï¼‰
  - æ”¯æŒ1024ä¸ªå®éªŒé…ç½®
  - ä¼˜åŒ–ç»“æœæ”¶é›†é€»è¾‘ï¼Œæ”¯æŒæ•°å€¼å‹ç‹¬ç«‹å‚æ•°

- **v1.0** (2025-11-22): åˆå§‹ç‰ˆæœ¬ï¼ˆå·²åºŸå¼ƒï¼‰
  - æ”¯æŒ6ä¸ªæ ¸å¿ƒè¶…å‚æ•°çš„å®Œæ•´ç»„åˆæµ‹è¯•ï¼ˆ64ä¸ªå®éªŒï¼‰

## ä½œè€…

Claude Code

## è®¸å¯

éµå¾ªé¡¹ç›®ä¸»LICENSE
